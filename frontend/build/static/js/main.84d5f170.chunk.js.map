{"version":3,"sources":["action/fetch.js","config/config.js","App.js","index.js","action/authAction.js"],"names":["fetchInstance","args","fetch","headers","getCookie","key","process","browser","cookie","get","API","TestResults","React","lazy","Question","HomeAdmin","Test","ViewQuestion","HomeStudent","TestList","CheckTestAnswers","TakeTest","MyResults","Protected","Profile","AdminRoutes","StudentRoutes","AuthRoutes","SignUP","StudentSignin","AdminSignin","Home","Page404","App","className","fallback","path","component","exact","role","isAuth","ReactDOM","render","StrictMode","document","getElementById","signup","user","method","Accept","body","JSON","stringify","then","res","json","catch","err","studentSignin","removeCookie","removeLocalStorage","adminSignin","signout","next","response","console","log","remove","expires","localStorage","removeItem","autheticate","data","value","token","set","setItem","setLocalStorage","cookieChecked","getItem","parse"],"mappings":"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","file":"static/js/main.84d5f170.chunk.js","sourcesContent":["import fetch from \"isomorphic-fetch\";\nimport cookie from \"js-cookie\";\n\nexport default function fetchInstance(...args) {\n    return fetch(args[0],{\n        ...args[1],\n        headers: {\n            ...args[1].headers,\n            \"set-cookie\": getCookie(\"token\")\n        },\n    })\n}\n\n// get cookie\nconst getCookie = (key) => {\n    if (process.browser) {\n        return cookie.get(key);\n    }\n};","export const API = \"http://localhost:5000/api\";\n","import React, { Suspense } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n// action\nimport { isAuth } from \"./action/authAction\";\n// component\nconst TestResults = React.lazy(() => import(\"./containers/admin/testResults\"));\nconst Question = React.lazy(() => import(\"./containers/admin/createQuestion\"));\nconst HomeAdmin = React.lazy(() => import(\"./containers/admin\"));\nconst Test = React.lazy(() => import(\"./containers/admin/testList\"));\nconst ViewQuestion = React.lazy(() => import(\"./containers/admin/viewQuestion\"));\nconst HomeStudent = React.lazy(() => import(\"./containers/student\"));\nconst TestList = React.lazy(() => import(\"./containers/student/testList\"));\nconst CheckTestAnswers = React.lazy(() => import(\"./containers/checkTestAnswers\"));\nconst TakeTest = React.lazy(() => import(\"./containers/student/takeTest\"));\nconst MyResults = React.lazy(() => import(\"./containers/student/myResults\"));\nconst Protected = React.lazy(() => import(\"./component/private/Protected\"));\nconst Profile = React.lazy(() => import(\"./component/profile\"));\nconst AdminRoutes = React.lazy(() => import(\"./component/private/AdminRoutes\"));\nconst StudentRoutes = React.lazy(() => import(\"./component/private/StudentRoutes\"));\nconst AuthRoutes = React.lazy(() => import(\"./component/private/AuthRoutes\"));\n// pages\nconst SignUP = React.lazy(() => import(\"./pages/SignUp\"));\nconst StudentSignin = React.lazy(() => import(\"./pages/StudentSignIn\"));\nconst AdminSignin = React.lazy(() => import(\"./pages/AdminSignIn\"));\nconst Home = React.lazy(() => import(\"./pages/home\"));\nconst Page404 = React.lazy(() => import(\"./pages/Page404\"));\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Suspense fallback={<div>Loading...</div>}>\n        <Router>\n          <Protected />\n          <Switch>\n            {/* pages */}\n            <Route path=\"/\" component={Home} exact />\n            <Route path=\"/home\" component={Home} exact />\n            <Route path=\"/signup\" component={SignUP} exact />\n            {/* logins */}\n            <Route path=\"/student/signin\" component={StudentSignin} exact />\n            <Route path=\"/admin/signin\" component={AdminSignin} exact />\n            {/* Auth Routes */}\n            <AuthRoutes path=\"/myprofile\" exact>\n              <Profile />\n            </AuthRoutes>\n            {/* admin protected routes */}\n            <AdminRoutes path=\"/admin/dashboard\" exact>\n              <HomeAdmin />\n            </AdminRoutes>\n            <AdminRoutes path=\"/admin/test\" exact>\n              <Test />\n            </AdminRoutes>\n            <AdminRoutes path=\"/admin/question\">\n              <Question />\n            </AdminRoutes>\n            <AdminRoutes path=\"/admin/test/results\">\n              <TestResults />\n            </AdminRoutes>\n            <AdminRoutes path=\"/admin/test/:id/questions\">\n              <ViewQuestion />\n            </AdminRoutes>\n            <AdminRoutes path=\"/admin/user/:UserId/test/:TestId/take/:take_count\" exact>\n              <CheckTestAnswers role={isAuth() && isAuth().role} />\n            </AdminRoutes>\n            {/* student protected routes */}\n            <StudentRoutes path=\"/student/dashboard\" exact>\n              <HomeStudent />\n            </StudentRoutes>\n            <StudentRoutes path=\"/student/test\" exact>\n              <TestList />\n            </StudentRoutes>\n            <StudentRoutes path=\"/student/test/:id/take\" exact>\n              <TakeTest />\n            </StudentRoutes>\n            <StudentRoutes path=\"/student/results\">\n              <MyResults />\n            </StudentRoutes>\n            <StudentRoutes path=\"/student/test/:TestId/take/:take_count\" exact>\n              <CheckTestAnswers role={isAuth() && isAuth().role} />\n            </StudentRoutes>\n            {/* 404 */}\n            <Route path=\"/*\" component={Page404} exact />\n          </Switch>\n        </Router>\n      </Suspense>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import fetch from \"./fetch\";\nimport { API } from \"../config/config\";\nimport cookie from \"js-cookie\";\n\nexport const signup = (user) => {\n  return fetch(`${API}/auth/signup`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(user),\n  })\n    .then((res) => {\n      return res.json();\n    })\n    .catch((err) => {\n      return err;\n    });\n};\n\nexport const studentSignin = (user) => {\n  return fetch(`${API}/auth/student/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(user),\n  })\n    .then((res) => {\n      return res.json();\n    })\n    .catch((err) => {\n      removeCookie(\"token\");\n      removeLocalStorage(\"user\");\n      return err;\n    });\n};\n\nexport const adminSignin = (user) => {\n  return fetch(`${API}/auth/admin/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(user),\n  })\n    .then((res) => {\n      return res.json();\n    })\n    .catch((err) => {\n      removeCookie(\"token\");\n      removeLocalStorage(\"user\");\n      return err;\n    });\n};\n\nexport const signout = (next) => {\n  removeCookie(\"token\");\n  removeLocalStorage(\"user\");\n  next();\n\n  return fetch(`${API}/auth/signout`, {\n    method: \"GET\",\n  })\n    .then((response) => {\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\n// set the cookie\nexport const setCookie = (key, value) => {\n  if (process.browser) {\n    cookie.set(key, value, {\n      expires: 1,\n    });\n  }\n};\n\n// remove the cookie\nexport const removeCookie = (key) => {\n  if (process.browser) {\n    cookie.remove(key, {\n      expires: 1,\n    });\n  }\n};\n\n// get cookie\nexport const getCookie = (key) => {\n  if (process.browser) {\n    return cookie.get(key);\n  }\n};\n\n//localStorage\nexport const setLocalStorage = (key, value) => {\n  if (process.browser) {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n};\n\n// remove from localStrorage\nexport const removeLocalStorage = (key) => {\n  if (process.browser) {\n    localStorage.removeItem(key);\n  }\n};\n\n// autheticate user by pass data to cookie and localStorage\nexport const autheticate = (data, next) => {\n  setCookie(\"token\", data.token);\n  setLocalStorage(\"user\", data.user);\n  next();\n};\n\nexport const isAuth = () => {\n  if (process.browser) {\n    const cookieChecked = getCookie(\"token\");\n    if (cookieChecked && cookieChecked !== 'undefined') {\n      if (localStorage.getItem(\"user\") && localStorage.getItem(\"user\") !== 'undefined') {\n        return JSON.parse(localStorage.getItem(\"user\"));\n      } else {\n        return false;\n      }\n    }\n  }\n};\n"],"sourceRoot":""}